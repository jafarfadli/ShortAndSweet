<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Scrollable iFrames</title>
    <style>
        /* --- English Comments --- */

        /* CSS Reset: Removes default browser styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            /* IMPORTANT: Prevents the default browser scrollbar */
            overflow: hidden; 
            font-family: sans-serif;
        }

        /* The main container that will be moved up and down */
        #container {
            width: 100%;
            height: 100%;
            /* This transition creates the smooth scrolling animation */
            transition: transform 0.6s ease-in-out;
        }

        /* Each section is a full-screen wrapper for an iframe */
        .section {
            width: 100vw; /* 100% of the viewport width */
            height: 100vh; /* 100% of the viewport height */
            position: relative; /* Needed for positioning the overlay and iframe inside */
            overflow: hidden;
        }

        /* The actual iframe holding the game */
        .game-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            z-index: 1; /* Sits below the overlay */
        }
    </style>
</head>
<body>

    <div id="container">
        <div class="section">
            <iframe class="game-iframe" src="https://funhtml5games.com?embed=doodlejump" loading="lazy"></iframe>
        </div>
        <div class="section">
            <iframe class="game-iframe" src="https://funhtml5games.com?embed=cuttherope" loading="lazy"></iframe>
        </div>
        <div class="section">
            <iframe class="game-iframe" src="https://funhtml5games.com?embed=pacman" loading="lazy"></iframe>
        </div>
        <div class="section">
            <iframe class="game-iframe" src="https://funhtml5games.com?embed=tetris" loading="lazy"></iframe>
        </div>
        <div class="section">
            <iframe class="game-iframe" src="https://funhtml5games.com?embed=flappybird" loading="lazy"></iframe>
        </div>
    </div>

    <script>
        // --- English Comments ---

        const container = document.getElementById('container');
        const sections = document.querySelectorAll('.section');
        const totalSections = sections.length;

        let currentIndex = 0; // Tracks the currently visible section
        let isScrolling = false; // Flag to prevent multiple scrolls during animation
        let touchStartY = 0; // Stores the starting Y position of a touch

        // --- Main scroll function ---
        const scrollToSection = (index) => {
            if (index >= 0 && index < totalSections) {
                isScrolling = true;
                currentIndex = index;
                container.style.transform = `translateY(-${currentIndex * 100}vh)`;

                // Wait for the animation to finish before allowing another scroll
                setTimeout(() => {
                    isScrolling = false;
                }, 800); // A bit longer than the CSS transition to be safe
            }
        };

        // --- Mouse Wheel Event Handler ---
        const handleWheel = (e) => {
            if (isScrolling) return;

            // e.deltaY > 0 means scrolling down
            if (e.deltaY > 0) {
                scrollToSection(currentIndex + 1);
            } 
            // e.deltaY < 0 means scrolling up
            else if (e.deltaY < 0) {
                scrollToSection(currentIndex - 1);
            }
        };

        // --- Touch Event Handlers for Mobile ---
        const handleTouchStart = (e) => {
            if (isScrolling) return;
            touchStartY = e.touches[0].clientY;
        };

        const handleTouchMove = (e) => {
            if (isScrolling) return;
            
            const touchCurrentY = e.touches[0].clientY;
            const deltaY = touchStartY - touchCurrentY;
            const sensitivity = 50; // Minimum swipe distance

            // Swipe up (like scrolling down)
            if (deltaY > sensitivity) {
                scrollToSection(currentIndex + 1);
            }
            // Swipe down (like scrolling up)
            else if (deltaY < -sensitivity) {
                scrollToSection(currentIndex - 1);
            }
        };

        // --- Attach Event Listeners ---
        window.addEventListener('wheel', handleWheel);
        window.addEventListener('touchstart', handleTouchStart);
        window.addEventListener('touchmove', handleTouchMove);

    </script>
</body>
</html>