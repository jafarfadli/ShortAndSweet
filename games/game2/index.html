<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Builder - Educational Mini-Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: black;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        
        #game-container {
            width: 500px;
            height: 800px;
            background-color: black;
            border: 2px solid white;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .screen {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
        }
        
        #start-screen {
            background-color: #1a1a3a;
            color: white;
        }
        
        #game-screen {
            background-color: #1a1a3a;
            display: none;
            justify-content: flex-start;
            padding-top: 40px;
        }
        
        #end-screen {
            background-color: #1a1a3a;
            display: none;
            color: white;
        }
        
        h1 {
            color: #FF6B6B;
            font-size: 36px;
            margin-bottom: 20px;
        }
        
        h2 {
            color: #4ECDC4;
            font-size: 28px;
            margin-bottom: 15px;
        }
        
        p {
            font-size: 20px;
            margin-bottom: 15px;
            line-height: 1.4;
        }
        
        button {
            background-color: #FF6B6B;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 20px;
            cursor: pointer;
            margin-top: 20px;
            font-family: inherit;
        }
        
        button:hover {
            background-color: #FF5252;
        }
        
        #word-image {
            width: 200px;
            height: 150px;
            background-color: #2a2a5a;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            color: white;
        }
        
        #current-word {
            font-size: 32px;
            color: white;
            margin: 20px 0;
            min-height: 50px;
            letter-spacing: 5px;
        }
        
        #letters-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            max-width: 400px;
        }
        
        .letter {
            width: 50px;
            height: 50px;
            background-color: #4ECDC4;
            color: white;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 2px solid #2a9d8f;
            user-select: none;
        }
        
        .letter:hover {
            background-color: #45b5b0;
        }
        
        .letter.used {
            background-color: #555;
            cursor: default;
            opacity: 0.5;
        }
        
        #score-container {
            color: white;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        #hint-container {
            color: #FFD166;
            font-size: 18px;
            margin: 10px 0;
            min-height: 30px;
        }
        
        #controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        #check-button, #hint-button, #reset-button {
            padding: 8px 16px;
            font-size: 16px;
        }
        
        #check-button {
            background-color: #4ECDC4;
        }
        
        #hint-button {
            background-color: #FFD166;
            color: #333;
        }
        
        #reset-button {
            background-color: #FF6B6B;
        }
        
        #feedback {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
            min-height: 30px;
        }
        
        .correct {
            color: #4ECDC4;
        }
        
        .incorrect {
            color: #FF6B6B;
        }
        
        #timer {
            width: 100%;
            height: 8px;
            background-color: #333;
            margin: 10px 0;
        }
        
        #timer-progress {
            height: 100%;
            background-color: #FFD166;
            width: 100%;
            transition: width 0.1s linear;
        }
        
        #difficulty-display {
            color: #FFD166;
            font-size: 16px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- Start Screen -->
        <div id="start-screen" class="screen">
            <h1>Word Builder</h1>
            <p>Arrange the letters to spell the word shown in the picture!</p>
            <p>You have 60 seconds to complete as many words as possible.</p>
            <p>Words get longer as you progress!</p>
            <button id="start-button">Start Game</button>
        </div>
        
        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div id="score-container">Score: <span id="score">0</span> | Words: <span id="words-completed">0</span></div>
            <div id="difficulty-display">Level: <span id="current-level">1</span></div>
            <div id="timer">
                <div id="timer-progress"></div>
            </div>
            <div id="word-image">üê±</div>
            <div id="hint-container"></div>
            <div id="current-word">_ _ _</div>
            <div id="letters-container"></div>
            <div id="feedback"></div>
            <div id="controls">
                <button id="check-button">Check</button>
                <button id="hint-button">Hint</button>
                <button id="reset-button">Reset</button>
            </div>
        </div>
        
        <!-- End Screen -->
        <div id="end-screen" class="screen">
            <h1>Game Over!</h1>
            <h2>Your Score: <span id="final-score">0</span></h2>
            <p>Words Completed: <span id="final-words">0</span></p>
            <p>Highest Level: <span id="final-level">1</span></p>
            <p id="performance-message"></p>
            <button id="restart-button">Play Again</button>
        </div>
    </div>

    <script>
        // Game state
        const gameState = {
            score: 0,
            wordsCompleted: 0,
            timeLeft: 60,
            timerInterval: null,
            currentWord: null,
            currentLetters: [],
            selectedLetters: [],
            gameActive: false,
            hintsUsed: 0,
            usedWords: new Set(),
            currentLevel: 1,
            maxLevel: 1
        };
        
        // Expanded word list organized by difficulty
        const wordsByDifficulty = {
            1: [ // 3-letter words
                { word: "CAT", hint: "A furry pet that meows", emoji: "üê±" },
                { word: "DOG", hint: "A loyal pet that barks", emoji: "üê∂" },
                { word: "SUN", hint: "Bright star in the sky", emoji: "‚òÄÔ∏è" },
                { word: "CAR", hint: "Vehicle with four wheels", emoji: "üöó" },
                { word: "HAT", hint: "You wear it on your head", emoji: "üß¢" },
                { word: "BUG", hint: "Small insect", emoji: "üêõ" },
                { word: "BAT", hint: "Flying mammal", emoji: "ü¶á" },
                { word: "EGG", hint: "Chickens lay these", emoji: "ü•ö" },
                { word: "KEY", hint: "Opens doors", emoji: "üîë" },
                { word: "CUP", hint: "You drink from it", emoji: "‚òï" },
                { word: "PEN", hint: "Writing tool", emoji: "üñäÔ∏è" },
                { word: "BEE", hint: "Makes honey", emoji: "üêù" },
                { word: "BOX", hint: "Square container", emoji: "üì¶" },
                { word: "BED", hint: "You sleep in it", emoji: "üõèÔ∏è" },
                { word: "RED", hint: "Color of fire", emoji: "üî¥" },
                { word: "ICE", hint: "Frozen water", emoji: "üßä" }
            ],
            2: [ // 4-letter words
                { word: "FISH", hint: "Swims in water", emoji: "üê†" },
                { word: "BALL", hint: "Round object for playing", emoji: "‚öΩ" },
                { word: "CAKE", hint: "Sweet dessert", emoji: "üéÇ" },
                { word: "BOOK", hint: "You read it", emoji: "üìñ" },
                { word: "TREE", hint: "Has leaves and branches", emoji: "üå≥" },
                { word: "STAR", hint: "Twinkles in the night sky", emoji: "‚≠ê" },
                { word: "MOON", hint: "Shines at night", emoji: "üåô" },
                { word: "SHIP", hint: "Floats on water", emoji: "üö¢" },
                { word: "BEAR", hint: "Large furry animal", emoji: "üêª" },
                { word: "BIRD", hint: "Has wings and feathers", emoji: "üê¶" },
                { word: "DUCK", hint: "Swims and quacks", emoji: "ü¶Ü" },
                { word: "FROG", hint: "Green hopping animal", emoji: "üê∏" },
                { word: "LION", hint: "King of the jungle", emoji: "ü¶Å" },
                { word: "MILK", hint: "White drink from cows", emoji: "ü•õ" },
                { word: "ROCK", hint: "Hard stone", emoji: "ü™®" },
                { word: "DOOR", hint: "You walk through it", emoji: "üö™" },
                { word: "SHOE", hint: "You wear it on your foot", emoji: "üëü" },
                { word: "RAIN", hint: "Water falling from sky", emoji: "üåßÔ∏è" },
                { word: "FIRE", hint: "Hot and bright", emoji: "üî•" },
                { word: "BOAT", hint: "Small water vessel", emoji: "‚õµ" }
            ],
            3: [ // 5-letter words
                { word: "HOUSE", hint: "You live in it", emoji: "üè†" },
                { word: "APPLE", hint: "Red or green fruit", emoji: "üçé" },
                { word: "HORSE", hint: "Large riding animal", emoji: "üê¥" },
                { word: "TRAIN", hint: "Runs on railroad tracks", emoji: "üöÇ" },
                { word: "PLANE", hint: "Flies in the sky", emoji: "‚úàÔ∏è" },
                { word: "CHAIR", hint: "You sit on it", emoji: "ü™ë" },
                { word: "TABLE", hint: "You eat at it", emoji: "ü™ë" },
                { word: "CLOUD", hint: "Fluffy white in the sky", emoji: "‚òÅÔ∏è" },
                { word: "BEACH", hint: "Sandy place by the ocean", emoji: "üèñÔ∏è" },
                { word: "PIZZA", hint: "Round food with toppings", emoji: "üçï" },
                { word: "MUSIC", hint: "Sounds that make melodies", emoji: "üéµ" },
                { word: "LIGHT", hint: "Bright illumination", emoji: "üí°" },
                { word: "HEART", hint: "Pumps blood in your body", emoji: "‚ù§Ô∏è" },
                { word: "SMILE", hint: "Happy facial expression", emoji: "üòä" },
                { word: "NIGHT", hint: "When it's dark outside", emoji: "üåô" },
                { word: "GRASS", hint: "Green plants in yards", emoji: "üå±" },
                { word: "MONEY", hint: "Used to buy things", emoji: "üí∞" },
                { word: "EARTH", hint: "The planet we live on", emoji: "üåç" }
            ],
            4: [ // 6-letter words
                { word: "SCHOOL", hint: "Place where you learn", emoji: "üè´" },
                { word: "FLOWER", hint: "Colorful plant bloom", emoji: "üå∏" },
                { word: "GARDEN", hint: "Place where plants grow", emoji: "üå∫" },
                { word: "BRIDGE", hint: "Goes over water or roads", emoji: "üåâ" },
                { word: "CASTLE", hint: "Medieval fortress", emoji: "üè∞" },
                { word: "JUNGLE", hint: "Dense tropical forest", emoji: "üå¥" },
                { word: "MONKEY", hint: "Swings from trees", emoji: "üêí" },
                { word: "RABBIT", hint: "Hops and has long ears", emoji: "üê∞" },
                { word: "SPIDER", hint: "Eight-legged creature", emoji: "üï∑Ô∏è" },
                { word: "PENCIL", hint: "Writing tool with eraser", emoji: "‚úèÔ∏è" },
                { word: "COOKIE", hint: "Sweet baked treat", emoji: "üç™" },
                { word: "BOTTLE", hint: "Container for liquids", emoji: "üçº" },
                { word: "CAMERA", hint: "Takes pictures", emoji: "üì∑" },
                { word: "WIZARD", hint: "Person who does magic", emoji: "üßô" },
                { word: "PIRATE", hint: "Sails the seas for treasure", emoji: "üè¥‚Äç‚ò†Ô∏è" },
                { word: "ROCKET", hint: "Flies to space", emoji: "üöÄ" }
            ],
            5: [ // 7+ letter words
                { word: "RAINBOW", hint: "Colorful arc after rain", emoji: "üåà" },
                { word: "BALLOON", hint: "Floats in the air", emoji: "üéà" },
                { word: "DOLPHIN", hint: "Smart sea mammal", emoji: "üê¨" },
                { word: "GIRAFFE", hint: "Tallest animal", emoji: "ü¶í" },
                { word: "ELEPHANT", hint: "Large animal with trunk", emoji: "üêò" },
                { word: "PENGUIN", hint: "Black and white bird", emoji: "üêß" },
                { word: "BICYCLE", hint: "Two-wheeled vehicle", emoji: "üö≤" },
                { word: "SANDWICH", hint: "Food between bread slices", emoji: "ü•™" },
                { word: "MONSTER", hint: "Scary creature", emoji: "üëπ" },
                { word: "DINOSAUR", hint: "Ancient giant reptile", emoji: "ü¶ï" },
                { word: "TREASURE", hint: "Valuable hidden riches", emoji: "üíé" },
                { word: "PRINCESS", hint: "Royal daughter", emoji: "üë∏" },
                { word: "FOOTBALL", hint: "Sport with oval ball", emoji: "üèà" },
                { word: "BUTTERFLY", hint: "Colorful flying insect", emoji: "ü¶ã" }
            ]
        };
        
        // DOM elements
        const elements = {
            startScreen: document.getElementById('start-screen'),
            gameScreen: document.getElementById('game-screen'),
            endScreen: document.getElementById('end-screen'),
            startButton: document.getElementById('start-button'),
            restartButton: document.getElementById('restart-button'),
            wordImage: document.getElementById('word-image'),
            hintContainer: document.getElementById('hint-container'),
            currentWord: document.getElementById('current-word'),
            lettersContainer: document.getElementById('letters-container'),
            scoreDisplay: document.getElementById('score'),
            wordsCompletedDisplay: document.getElementById('words-completed'),
            finalScoreDisplay: document.getElementById('final-score'),
            finalWordsDisplay: document.getElementById('final-words'),
            finalLevelDisplay: document.getElementById('final-level'),
            timerProgress: document.getElementById('timer-progress'),
            feedback: document.getElementById('feedback'),
            checkButton: document.getElementById('check-button'),
            hintButton: document.getElementById('hint-button'),
            resetButton: document.getElementById('reset-button'),
            performanceMessage: document.getElementById('performance-message'),
            currentLevelDisplay: document.getElementById('current-level')
        };
        
        // Event listeners
        elements.startButton.addEventListener('click', startGame);
        elements.restartButton.addEventListener('click', startGame);
        elements.checkButton.addEventListener('click', checkWord);
        elements.hintButton.addEventListener('click', showHint);
        elements.resetButton.addEventListener('click', resetWord);
        
        function startGame() {
            // Reset game state
            gameState.score = 0;
            gameState.wordsCompleted = 0;
            gameState.timeLeft = 60;
            gameState.gameActive = true;
            gameState.hintsUsed = 0;
            gameState.usedWords = new Set();
            gameState.currentLevel = 1;
            gameState.maxLevel = 1;
            
            elements.scoreDisplay.textContent = gameState.score;
            elements.wordsCompletedDisplay.textContent = gameState.wordsCompleted;
            elements.currentLevelDisplay.textContent = gameState.currentLevel;
            elements.timerProgress.style.width = '100%';
            elements.feedback.textContent = '';
            elements.hintContainer.textContent = '';
            
            // Show game screen
            elements.startScreen.style.display = 'none';
            elements.endScreen.style.display = 'none';
            elements.gameScreen.style.display = 'flex';
            
            // Start timer
            clearInterval(gameState.timerInterval);
            gameState.timerInterval = setInterval(updateTimer, 100);
            
            // Generate first word
            generateWord();
        }
        
        function updateTimer() {
            if (!gameState.gameActive) {
                clearInterval(gameState.timerInterval);
                return;
            }
            
            gameState.timeLeft -= 0.1;
            elements.timerProgress.style.width = `${Math.max(0, (gameState.timeLeft / 60) * 100)}%`;
            
            if (gameState.timeLeft <= 0) {
                endGame();
            }
        }
        
        function generateWord() {
            if (!gameState.gameActive) return;
            
            // Reset word state
            gameState.selectedLetters = [];
            elements.feedback.textContent = '';
            elements.hintContainer.textContent = '';
            
            // Determine current level based on words completed
            gameState.currentLevel = Math.min(5, Math.floor(gameState.wordsCompleted / 3) + 1);
            gameState.maxLevel = Math.max(gameState.maxLevel, gameState.currentLevel);
            elements.currentLevelDisplay.textContent = gameState.currentLevel;
            
            // Get available words for current level
            const availableWords = wordsByDifficulty[gameState.currentLevel].filter(word => 
                !gameState.usedWords.has(word.word)
            );
            
            // If no unused words at current level, reset used words for this level
            if (availableWords.length === 0) {
                // Reset used words for current level only
                wordsByDifficulty[gameState.currentLevel].forEach(word => {
                    gameState.usedWords.delete(word.word);
                });
                availableWords.push(...wordsByDifficulty[gameState.currentLevel]);
            }
            
            // Select a random word from available words
            const randomIndex = Math.floor(Math.random() * availableWords.length);
            gameState.currentWord = availableWords[randomIndex];
            gameState.usedWords.add(gameState.currentWord.word);
            
            // Display word image
            elements.wordImage.textContent = gameState.currentWord.emoji;
            elements.currentWord.textContent = '_ '.repeat(gameState.currentWord.word.length).trim();
            
            // Create scrambled letters
            scrambleLetters();
        }
        
        function scrambleLetters() {
            // Clear previous letters
            elements.lettersContainer.innerHTML = '';
            
            // Create array of letters from the word
            let letters = gameState.currentWord.word.split('');
            
            // Add extra random letters based on difficulty
            const extraLetters = Math.min(4, gameState.currentLevel + 1);
            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            
            for (let i = 0; i < extraLetters; i++) {
                let randomLetter;
                let attempts = 0;
                do {
                    randomLetter = alphabet[Math.floor(Math.random() * alphabet.length)];
                    attempts++;
                } while (letters.includes(randomLetter) && attempts < 10);
                
                letters.push(randomLetter);
            }
            
            // Shuffle the letters
            shuffleArray(letters);
            gameState.currentLetters = letters;
            
            // Create letter elements
            letters.forEach(letter => {
                const letterElement = document.createElement('div');
                letterElement.className = 'letter';
                letterElement.textContent = letter;
                letterElement.addEventListener('click', () => selectLetter(letter, letterElement));
                elements.lettersContainer.appendChild(letterElement);
            });
        }
        
        function selectLetter(letter, element) {
            if (!gameState.gameActive || element.classList.contains('used')) return;
            
            // Check if we can add more letters
            if (gameState.selectedLetters.length >= gameState.currentWord.word.length) return;
            
            // Add letter to selected letters
            gameState.selectedLetters.push(letter);
            
            // Update current word display
            const wordDisplay = gameState.currentWord.word.split('').map((char, index) => {
                return index < gameState.selectedLetters.length ? gameState.selectedLetters[index] : '_';
            }).join(' ');
            
            elements.currentWord.textContent = wordDisplay;
            
            // Mark letter as used
            element.classList.add('used');
            
            // Auto-check if word is complete
            if (gameState.selectedLetters.length === gameState.currentWord.word.length) {
                setTimeout(checkWord, 500);
            }
        }
        
        function checkWord() {
            if (!gameState.gameActive) return;
            
            const attemptedWord = gameState.selectedLetters.join('');
            
            if (attemptedWord === gameState.currentWord.word) {
                // Correct word - bonus points for higher levels
                const basePoints = 50;
                const levelBonus = (gameState.currentLevel - 1) * 25;
                const totalPoints = basePoints + levelBonus;
                
                gameState.score += totalPoints;
                gameState.wordsCompleted += 1;
                gameState.hintsUsed = 0; // Reset hints for next word
                
                elements.scoreDisplay.textContent = gameState.score;
                elements.wordsCompletedDisplay.textContent = gameState.wordsCompleted;
                elements.feedback.textContent = `Correct! +${totalPoints} points`;
                elements.feedback.className = 'correct';
                
                // Next word after delay
                setTimeout(generateWord, 1500);
            } else {
                // Incorrect word
                elements.feedback.textContent = 'Try again!';
                elements.feedback.className = 'incorrect';
                
                // Reset word after delay
                setTimeout(resetWord, 1000);
            }
        }
        
        function showHint() {
            if (!gameState.gameActive || gameState.hintsUsed >= 2) return;
            
            gameState.hintsUsed += 1;
            elements.hintContainer.textContent = gameState.currentWord.hint;
            
            // Reduce points for using hint (less penalty at higher levels)
            const penalty = Math.max(5, 15 - (gameState.currentLevel * 2));
            gameState.score = Math.max(0, gameState.score - penalty);
            elements.scoreDisplay.textContent = gameState.score;
        }
        
        function resetWord() {
            if (!gameState.gameActive) return;
            
            // Reset selected letters
            gameState.selectedLetters = [];
            elements.currentWord.textContent = '_ '.repeat(gameState.currentWord.word.length).trim();
            elements.feedback.textContent = '';
            
            // Reset letter elements
            const letterElements = document.querySelectorAll('.letter');
            letterElements.forEach(el => {
                el.classList.remove('used');
            });
        }
        
        function endGame() {
            gameState.gameActive = false;
            clearInterval(gameState.timerInterval);
            
            // Update final scores
            elements.finalScoreDisplay.textContent = gameState.score;
            elements.finalWordsDisplay.textContent = gameState.wordsCompleted;
            elements.finalLevelDisplay.textContent = gameState.maxLevel;
            
            // Performance message based on performance
            if (gameState.wordsCompleted >= 15 && gameState.maxLevel >= 4) {
                elements.performanceMessage.textContent = 'Incredible! You\'re a master word builder!';
            } else if (gameState.wordsCompleted >= 10 && gameState.maxLevel >= 3) {
                elements.performanceMessage.textContent = 'Amazing! You\'re a word wizard!';
            } else if (gameState.wordsCompleted >= 6) {
                elements.performanceMessage.textContent = 'Great job! You know your words!';
            } else if (gameState.wordsCompleted >= 3) {
                elements.performanceMessage.textContent = 'Good effort! Keep practicing!';
            } else {
                elements.performanceMessage.textContent = 'Nice try! You\'ll get better with practice!';
            }
            
            // Show end screen
            elements.gameScreen.style.display = 'none';
            elements.endScreen.style.display = 'flex';
        }
        
        // Utility function to shuffle array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // Add keyboard support
        document.addEventListener('keydown', function(event) {
            if (!gameState.gameActive) return;
            
            const key = event.key.toUpperCase();
            const letterElements = document.querySelectorAll('.letter:not(.used)');
            
            // Find and click the first available letter that matches the key
            for (let element of letterElements) {
                if (element.textContent === key) {
                    element.click();
                    break;
                }
            }
            
            // Handle special keys
            if (event.key === 'Enter') {
                checkWord();
            } else if (event.key === 'Backspace') {
                resetWord();
            }
        });
    </script>
</body>
</html>